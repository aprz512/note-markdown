# float 与 double 的精度

## 内存结构
float 与 double 表示的范围是由 指数的位置 与 尾数的位数 决定的。

float
1 个符号位 8 个指数位 23 个尾数位。
double 
1 个符号位 11 个指数位 52个尾数位。

于是，float的指数范围为-128 ~ +127，而double的指数范围为-1024 ~ +1023，并且指数位是按补码的形式来划分的。
float的范围为-2^128 ~ +2^127，也即-3.40E+38 ~ +3.40E+38。
double的范围为-2^1024 ~ +2^1023，也即-1.79E+308 ~ +1.79E+308。

## 精度
float和double的精度是由尾数的位数来决定的。

float：2^23 = 8388608，一共7位有效数字，但绝对能保证的只有6位，也即float的精度为6～7位有效数字。

double：2^52 = 4503599627370496，一共16位，同理，double的精度为15～16位。

**之所以不能用f1==f2来判断两个数相等，是因为虽然f1和f2在可能是两个不同的数字，但是受到浮点数表示精度的限制，有可能会错误的判断两个数相等！**

附：
** 小数转换为二进制的方法**：对小数点以后的数乘以2，有一个结果吧，取结果的整数部分（不是1就是0喽），然后再用小数部分再乘以2，再取结果的整数部分……以此类推，直到小数部分为0或者位数已经够了就OK了。然后把取的整数部分按先后次序排列就OK了，就构成了二进制小数部分的序列。